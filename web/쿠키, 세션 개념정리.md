# 쿠키, 세션 개념정리

웹의 쿠키와 세션에 대해 공부하면서 배운 내용을 정리한 글입니다.

## 쿠키, 세션 등장 배경

http 통신은 요청, 응답에 대한 데이터를 저장하지 않고(stateless), 응답 후에는 요청을 끊습니다(connectionless).

그러면 로그인을 할 때 아이디, 비밀번호 등과 같은 정보를 어떻게 저장해야 할까요? 

`Stateful`한 http 통신을 위해 `쿠키`, `세션`이 등장합니다.

## 쿠키

쿠키는 `클라이언트 로컬에 저장되는 정보`입니다. http 헤더에 포함되는 정보를 key, value 형식으로 저장합니다.

인증이 유효한 시간을 명시할 수 있어 브라우저가 종료되어도 유효 시간만큼은 인증이 유지됩니다.

쿠키는 사용자가 따로 요청하지 않아도 브라우저가 Request 시에 자동으로 서버에 전송합니다.

주로 자동로그인, 장바구니 등의 기능으로 사용됩니다.

## 세션

세션은 쿠키를 기반으로 하지만 `서버에 저장되는 정보`입니다.

서버에서는 `클라이언트를 구분하기 위해서 세션 ID를 부여`하여

웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지합니다.

사용자 정보를 서버에 두기 때문에 쿠키보다 보안에 좋지만, 사용자가 많아질수록 서버 메모리를 많이 차지하게 됩니다.

즉, 동시 접속자가 많을수록 서버에 부담이 많이집니다.

로그인같이 보안상 중요한 작업을 수행할 때 사용됩니다.

#### 세션 동작방식

1. 클라이언트가 서버에 접속 시 세션 ID를 발급받습니다.
2. 클라이언트는 세션 ID에 대해 쿠키를 사용해서 저장하고 있습니다.
3. 클라이언트가 서버로 요청할 때, 이 쿠키의 세션 ID로 세션에 있는 클라이언트 정보를 가져옵니다.
4. 서버는 세션 ID를 보고 세션에 있는 클라이언트 정보를 가져옵니다.



## 쿠키와 세션 차이점 정리

가장 큰 차이점은 정보가 저장되는 위치입니다.

쿠키는 클라이언트 로컬에 저장, 세션은 서버에 저장합니다.

쿠키는 서버 처리가 필요없기 때문에 요청 속도가 세션보다 빠르지만 보안 면에서는 세션이 더 우수합니다.

세션은 서버의 자원을 사용하기 때문에 무분별하게 만들다보면 서버 메모리에 부담이 되고 속도가 느려질 수 있습니다.

## 출처
[https://interconnection.tistory.com/74](https://interconnection.tistory.com/74)

[https://velog.io/@duckchanahn/HTTP-%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98-%EC%BA%90%EC%8B%9C-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC](https://velog.io/@duckchanahn/HTTP-%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98-%EC%BA%90%EC%8B%9C-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC)